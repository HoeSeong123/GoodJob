<html layout:decorate="~{layout/layout.html}">
<head>
    <title>회원정보수정</title>
</head>
<body>

<main layout:fragment="main" class="container my-3 mx-auto">
    <div class="flex justify-center items-center min-h-screen">
        <div class="w-96 bg-white p-8 rounded-lg mb-64">
            <h2 class="mb-4 font-semibold text-2xl">회원정보수정</h2>
            <div class="form-control mb-2">
                <label class="font-semibold">기존 닉네임</label>
                <span th:text="${@rq.member.nickname}" type="text"
                      class="border-neutral px-2 py-2 w-full"></span>
            </div>

            <form th:action method="post" th:object="${editRequestDto}" class="flex flex-col gap-6">
                <div class="form-control mb-2">
                    <label class="font-semibold">새 닉네임</label>
                    <input type="text" name="nickname" th:field="*{nickname}"
                           class="border-b border-neutral px-2 py-2 w-full focus:outline-none"
                           placeholder="새 닉네임을 입력하세요">
                    <div class="mt-2">
                        <span th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}"
                              class="text-red-500"></span>
                    </div>
                </div>
                <div th:if="${!@rq.member.isSocialMember()}" class="form-control mb-4">
                    <label class="font-semibold">새 비밀번호</label>
                    <input type="password" name="password" th:field="*{password}"
                           class="border-b border-neutral px-2 py-2 w-full focus:outline-none"
                           placeholder="새 비밀번호를 입력하세요">
                    <div class="mt-2">
                        <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                              class="text-red-500"></span>
                    </div>
                </div>
                <div>
                    <button type="submit" class="bg-neutral text-white px-4 py-2 rounded-lg hover:bg-black">수정완료
                    </button>
                </div>
            </form>
        </div>
    </div>
</main>